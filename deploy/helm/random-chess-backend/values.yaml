replicaCount: 1

image:
  repository: ghcr.io/randomtoy/random-chess-backend
  tag: ""  # defaults to .Chart.AppVersion
  pullPolicy: IfNotPresent

nameOverride: ""
fullnameOverride: ""

service:
  type: ClusterIP
  port: 8080
  targetPort: 8080

# Environment variables passed to the container
env:
  PORT: "8080"

probes:
  liveness:
    path: /api/v1/healthz
    initialDelaySeconds: 5
    periodSeconds: 15
    timeoutSeconds: 3
    failureThreshold: 3
  readiness:
    path: /api/v1/healthz
    initialDelaySeconds: 3
    periodSeconds: 10
    timeoutSeconds: 3
    failureThreshold: 3

resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 500m
    memory: 256Mi

ingress:
  enabled: false
  className: ""
  annotations: {}
  host: ""
  path: /
  pathType: Prefix
  tls:
    enabled: false
    secretName: ""

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 5
  targetCPUUtilizationPercentage: 70

serviceAccount:
  create: false
  name: ""
  annotations: {}

networkPolicy:
  enabled: false

podAnnotations: {}
podLabels: {}

nodeSelector: {}
tolerations: []
affinity: {}

# Database configuration.
database:
  # Name of an existing Secret that contains the DATABASE_URL value.
  # When non-empty, no Secret is generated by the chart.
  existingSecret: ""
  # Key inside the Secret that holds the connection string.
  secretKey: DATABASE_URL
  # DATABASE_URL written into a generated Secret.
  # Ignored when existingSecret is set.
  url: ""

# Optional Bitnami PostgreSQL sub-chart (opt-in for local dev / staging).
# Set postgresql.enabled=true and configure postgresql.auth to spin up
# a co-located PostgreSQL instance.
postgresql:
  enabled: false
  auth:
    database: random_chess
    username: random_chess
    password: ""
